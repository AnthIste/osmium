RewriteEngine On

RewriteRule ^/?$ src/main.php [L,QSA]
RewriteRule ^/?favicon\.ico$ static/favicon.png [L]
RewriteRule ^/?register$ src/register.php [L,QSA]
RewriteRule ^/?logout$ src/logout.php [L,QSA]
RewriteRule ^/?renew_api$ src/renew_api.php [L,QSA]
RewriteRule ^/?new$ src/new_fitting.php [L,QSA]
RewriteRule ^/?loadout/([1-9][0-9]*)$ src/view_fit.php?loadoutid=$1 [L,QSA]
RewriteRule ^/?edit/([1-9][0-9]*)$ src/edit_fit.php?loadoutid=$1 [L,QSA]
RewriteRule ^/?delete/([1-9][0-9]*)$ src/delete_fit.php?loadoutid=$1 [L,QSA]
RewriteRule ^/?favorite/([1-9][0-9]*)$ src/toggle_favorite.php?loadoutid=$1 [L,QSA]
RewriteRule ^/?search$ src/search.php [L,QSA]
RewriteRule ^/?import$ src/import_loadouts.php [L,QSA]
RewriteRule ^/?profile/([1-9][0-9]*)$ src/view_profile.php?accountid=$1 [L,QSA]
RewriteRule ^/?export/(.+)-clf-([1-9][0-9]*)\.json$ src/export_fit.php?type=clf&loadoutid=$2 [L,QSA]

RewriteRule !^/?(src|static) - [L,R=404]
