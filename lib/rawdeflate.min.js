/* Copyright (C) 1999 Masanao Izumo <iz@onicos.co.jp>
 * Version: 1.0.1
 * LastModified: Dec 25 1999
 * License: GNU General Public License, version 2 (GPL-2.0)
 * Original: http://www.onicos.com/staff/iz/amuse/javascript/expert/deflate.txt */
(function(r){var n=32768,e=0,f=1,t=2,o=6,a=!0,i=32768,l=64,c=8192,u=2*n,d=3,s=258,_=16,h=8192,v=13;h>i&&alert("error: zip_INBUFSIZ is too small"),n<<1>1<<_&&alert("error: zip_WSIZE is too large"),v>_-1&&alert("error: zip_HASH_BITS is too large"),(8>v||258!=s)&&alert("error: Code too clever");var x,w,y,m,A,g,b,p,I,z,S,C,D,R,j,k,B,H,Z,E,F,N,T,U,W,q,G,J,K,L,M,O,P,Q,V,X,Y,$,rn,nn,en,fn,tn,on,an,ln,cn,un,dn,sn,_n,hn,vn,xn,wn,yn,mn=h,An=1<<v,gn=An-1,bn=n-1,pn=0,In=4096,zn=s+d+1,Sn=n-zn,Cn=1,Dn=15,Rn=7,jn=29,kn=256,Bn=256,Hn=kn+1+jn,Zn=30,En=19,Fn=16,Nn=17,Tn=18,Un=2*Hn+1,Wn=parseInt((v+d-1)/d),qn=null,Gn=function(){this.fc=0,this.dl=0},Jn=function(){this.dyn_tree=null,this.static_tree=null,this.extra_bits=null,this.extra_base=0,this.elems=0,this.max_length=0,this.max_code=0},Kn=function(r,n,e,f){this.good_length=r,this.max_lazy=n,this.nice_length=e,this.max_chain=f},Ln=function(){this.next=null,this.len=0,this.ptr=Array(c),this.off=0},Mn=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],On=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Pn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Qn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Vn=[new Kn(0,0,0,0),new Kn(4,4,8,4),new Kn(4,5,16,8),new Kn(4,6,32,32),new Kn(4,4,16,16),new Kn(8,16,32,32),new Kn(8,16,128,128),new Kn(8,32,128,256),new Kn(32,128,258,1024),new Kn(32,258,258,4096)],Xn=function(r){var n;if(r?1>r?r=1:r>9&&(r=9):r=o,G=r,m=!1,T=!1,null==qn){for(x=w=y=null,qn=Array(c),p=Array(u),I=Array(mn),z=Array(i+l),S=Array(1<<_),L=Array(Un),n=0;Un>n;n++)L[n]=new Gn;for(M=Array(2*Zn+1),n=0;2*Zn+1>n;n++)M[n]=new Gn;for(O=Array(Hn+2),n=0;Hn+2>n;n++)O[n]=new Gn;for(P=Array(Zn),n=0;Zn>n;n++)P[n]=new Gn;for(Q=Array(2*En+1),n=0;2*En+1>n;n++)Q[n]=new Gn;V=new Jn,X=new Jn,Y=new Jn,$=Array(Dn+1),rn=Array(2*Hn+1),fn=Array(2*Hn+1),tn=Array(s-d+1),on=Array(512),an=Array(jn),ln=Array(Zn),cn=Array(parseInt(h/8))}},Yn=function(r){r.next=x,x=r},$n=function(){var r;return null!=x?(r=x,x=x.next):r=new Ln,r.next=null,r.len=r.off=0,r},re=function(r){return S[n+r]},ne=function(r,e){return S[n+r]=e},ee=function(r){qn[g+A++]=r,g+A==c&&Ze()},fe=function(r){r&=65535,c-2>g+A?(qn[g+A++]=255&r,qn[g+A++]=r>>>8):(ee(255&r),ee(r>>>8))},te=function(){j=(j<<Wn^255&p[F+d-1])&gn,k=re(j),S[F&bn]=k,ne(j,F)},oe=function(r,n){ke(n[r].fc,n[r].dl)},ae=function(r){return 255&(256>r?on[r]:on[256+(r>>7)])},ie=function(r,n,e){return r[n].fc<r[e].fc||r[n].fc==r[e].fc&&fn[n]<=fn[e]},le=function(r,n,e){var f;for(f=0;e>f&&wn.length>yn;f++)r[n+f]=255&wn.charCodeAt(yn++);return f},ce=function(){var r;for(r=0;An>r;r++)S[n+r]=0;if(q=Vn[G].max_lazy,J=Vn[G].good_length,a||(K=Vn[G].nice_length),W=Vn[G].max_chain,F=0,R=0,U=le(p,0,2*n),0>=U)return T=!0,U=0,void 0;for(T=!1;zn>U&&!T;)de();for(j=0,r=0;d-1>r;r++)j=(j<<Wn^255&p[r])&gn},ue=function(r){var n,e,f=W,t=F,o=E,i=F>Sn?F-Sn:pn,l=F+s,c=p[t+o-1],u=p[t+o];E>=J&&(f>>=2);do if(n=r,p[n+o]==u&&p[n+o-1]==c&&p[n]==p[t]&&p[++n]==p[t+1]){t+=2,n++;do;while(p[++t]==p[++n]&&p[++t]==p[++n]&&p[++t]==p[++n]&&p[++t]==p[++n]&&p[++t]==p[++n]&&p[++t]==p[++n]&&p[++t]==p[++n]&&p[++t]==p[++n]&&l>t);if(e=s-(l-t),t=l-s,e>o){if(N=r,o=e,a){if(e>=s)break}else if(e>=K)break;c=p[t+o-1],u=p[t+o]}}while((r=S[r&bn])>i&&0!=--f);return o},de=function(){var r,e,f=u-U-F;if(-1==f)f--;else if(F>=n+Sn){for(r=0;n>r;r++)p[r]=p[r+n];for(N-=n,F-=n,R-=n,r=0;An>r;r++)e=re(r),ne(r,e>=n?e-n:pn);for(r=0;n>r;r++)e=S[r],S[r]=e>=n?e-n:pn;f+=n}T||(r=le(p,F+U,f),0>=r?T=!0:U+=r)},se=function(){for(;0!=U&&null==w;){var r;if(te(),k!=pn&&Sn>=F-k&&(Z=ue(k),Z>U&&(Z=U)),Z>=d)if(r=De(F-N,Z-d),U-=Z,q>=Z){Z--;do F++,te();while(0!=--Z);F++}else F+=Z,Z=0,j=255&p[F],j=(j<<Wn^255&p[F+1])&gn;else r=De(0,255&p[F]),U--,F++;for(r&&(Ce(0),R=F);zn>U&&!T;)de()}},_e=function(){for(;0!=U&&null==w;){if(te(),E=Z,B=N,Z=d-1,k!=pn&&q>E&&Sn>=F-k&&(Z=ue(k),Z>U&&(Z=U),Z==d&&F-N>In&&Z--),E>=d&&E>=Z){var r;r=De(F-1-B,E-d),U-=E-1,E-=2;do F++,te();while(0!=--E);H=0,Z=d-1,F++,r&&(Ce(0),R=F)}else 0!=H?(De(0,255&p[F-1])&&(Ce(0),R=F),F++,U--):(H=1,F++,U--);for(;zn>U&&!T;)de()}},he=function(){T||(C=0,D=0,we(),ce(),w=null,A=0,g=0,H=0,3>=G?(E=d-1,Z=0):(Z=d-1,H=0,H=0),b=!1)},ve=function(r,n,e){var f;return m||(he(),m=!0,0!=U)?(f=xe(r,n,e))==e?e:b?f:(3>=G?se():_e(),0==U&&(0!=H&&De(0,255&p[F-1]),Ce(1),b=!0),f+xe(r,f+n,e-f)):(b=!0,0)},xe=function(r,n,e){var f,t,o;for(f=0;null!=w&&e>f;){for(t=e-f,t>w.len&&(t=w.len),o=0;t>o;o++)r[n+f+o]=w.ptr[w.off+o];if(w.off+=t,w.len-=t,f+=t,0==w.len){var a;a=w,w=w.next,Yn(a)}}if(f==e)return f;if(A>g){for(t=e-f,t>A-g&&(t=A-g),o=0;t>o;o++)r[n+f+o]=qn[g+o];g+=t,f+=t,A==g&&(A=g=0)}return f},we=function(){var r,n,e,f,t;if(0==P[0].dl){for(V.dyn_tree=L,V.static_tree=O,V.extra_bits=Mn,V.extra_base=kn+1,V.elems=Hn,V.max_length=Dn,V.max_code=0,X.dyn_tree=M,X.static_tree=P,X.extra_bits=On,X.extra_base=0,X.elems=Zn,X.max_length=Dn,X.max_code=0,Y.dyn_tree=Q,Y.static_tree=null,Y.extra_bits=Pn,Y.extra_base=0,Y.elems=En,Y.max_length=Rn,Y.max_code=0,e=0,f=0;jn-1>f;f++)for(an[f]=e,r=0;1<<Mn[f]>r;r++)tn[e++]=f;for(tn[e-1]=f,t=0,f=0;16>f;f++)for(ln[f]=t,r=0;1<<On[f]>r;r++)on[t++]=f;for(t>>=7;Zn>f;f++)for(ln[f]=t<<7,r=0;1<<On[f]-7>r;r++)on[256+t++]=f;for(n=0;Dn>=n;n++)$[n]=0;for(r=0;143>=r;)O[r++].dl=8,$[8]++;for(;255>=r;)O[r++].dl=9,$[9]++;for(;279>=r;)O[r++].dl=7,$[7]++;for(;287>=r;)O[r++].dl=8,$[8]++;for(ge(O,Hn+1),r=0;Zn>r;r++)P[r].dl=5,P[r].fc=Be(r,5);ye()}},ye=function(){var r;for(r=0;Hn>r;r++)L[r].fc=0;for(r=0;Zn>r;r++)M[r].fc=0;for(r=0;En>r;r++)Q[r].fc=0;L[Bn].fc=1,vn=xn=0,un=dn=sn=0,_n=0,hn=1},me=function(r,n){for(var e=rn[n],f=n<<1;nn>=f&&(nn>f&&ie(r,rn[f+1],rn[f])&&f++,!ie(r,e,rn[f]));)rn[n]=rn[f],n=f,f<<=1;rn[n]=e},Ae=function(r){var n,e,f,t,o,a,i=r.dyn_tree,l=r.extra_bits,c=r.extra_base,u=r.max_code,d=r.max_length,s=r.static_tree,_=0;for(t=0;Dn>=t;t++)$[t]=0;for(i[rn[en]].dl=0,n=en+1;Un>n;n++)e=rn[n],t=i[i[e].dl].dl+1,t>d&&(t=d,_++),i[e].dl=t,e>u||($[t]++,o=0,e>=c&&(o=l[e-c]),a=i[e].fc,vn+=a*(t+o),null!=s&&(xn+=a*(s[e].dl+o)));if(0!=_){do{for(t=d-1;0==$[t];)t--;$[t]--,$[t+1]+=2,$[d]--,_-=2}while(_>0);for(t=d;0!=t;t--)for(e=$[t];0!=e;)f=rn[--n],f>u||(i[f].dl!=t&&(vn+=(t-i[f].dl)*i[f].fc,i[f].fc=t),e--)}},ge=function(r,n){var e,f,t=Array(Dn+1),o=0;for(e=1;Dn>=e;e++)o=o+$[e-1]<<1,t[e]=o;for(f=0;n>=f;f++){var a=r[f].dl;0!=a&&(r[f].fc=Be(t[a]++,a))}},be=function(r){var n,e,f=r.dyn_tree,t=r.static_tree,o=r.elems,a=-1,i=o;for(nn=0,en=Un,n=0;o>n;n++)0!=f[n].fc?(rn[++nn]=a=n,fn[n]=0):f[n].dl=0;for(;2>nn;){var l=rn[++nn]=2>a?++a:0;f[l].fc=1,fn[l]=0,vn--,null!=t&&(xn-=t[l].dl)}for(r.max_code=a,n=nn>>1;n>=1;n--)me(f,n);do n=rn[Cn],rn[Cn]=rn[nn--],me(f,Cn),e=rn[Cn],rn[--en]=n,rn[--en]=e,f[i].fc=f[n].fc+f[e].fc,fn[i]=fn[n]>fn[e]+1?fn[n]:fn[e]+1,f[n].dl=f[e].dl=i,rn[Cn]=i++,me(f,Cn);while(nn>=2);rn[--en]=rn[Cn],Ae(r),ge(f,a)},pe=function(r,n){var e,f,t=-1,o=r[0].dl,a=0,i=7,l=4;for(0==o&&(i=138,l=3),r[n+1].dl=65535,e=0;n>=e;e++)f=o,o=r[e+1].dl,i>++a&&f==o||(l>a?Q[f].fc+=a:0!=f?(f!=t&&Q[f].fc++,Q[Fn].fc++):10>=a?Q[Nn].fc++:Q[Tn].fc++,a=0,t=f,0==o?(i=138,l=3):f==o?(i=6,l=3):(i=7,l=4))},Ie=function(r,n){var e,f,t=-1,o=r[0].dl,a=0,i=7,l=4;for(0==o&&(i=138,l=3),e=0;n>=e;e++)if(f=o,o=r[e+1].dl,!(i>++a&&f==o)){if(l>a){do oe(f,Q);while(0!=--a)}else 0!=f?(f!=t&&(oe(f,Q),a--),oe(Fn,Q),ke(a-3,2)):10>=a?(oe(Nn,Q),ke(a-3,3)):(oe(Tn,Q),ke(a-11,7));a=0,t=f,0==o?(i=138,l=3):f==o?(i=6,l=3):(i=7,l=4)}},ze=function(){var r;for(pe(L,V.max_code),pe(M,X.max_code),be(Y),r=En-1;r>=3&&0==Q[Qn[r]].dl;r--);return vn+=3*(r+1)+5+5+4,r},Se=function(r,n,e){var f;for(ke(r-257,5),ke(n-1,5),ke(e-4,4),f=0;e>f;f++)ke(Q[Qn[f]].dl,3);Ie(L,r-1),Ie(M,n-1)},Ce=function(r){var n,o,a,i;if(i=F-R,cn[sn]=_n,be(V),be(X),a=ze(),n=vn+3+7>>3,o=xn+3+7>>3,n>=o&&(n=o),n>=i+4&&R>=0){var l;for(ke((e<<1)+r,3),He(),fe(i),fe(~i),l=0;i>l;l++)ee(p[R+l])}else o==n?(ke((f<<1)+r,3),Re(O,P)):(ke((t<<1)+r,3),Se(V.max_code+1,X.max_code+1,a+1),Re(L,M));ye(),0!=r&&He()},De=function(r,n){if(z[un++]=n,0==r?L[n].fc++:(r--,L[tn[n]+kn+1].fc++,M[ae(r)].fc++,I[dn++]=r,_n|=hn),hn<<=1,0==(7&un)&&(cn[sn++]=_n,_n=0,hn=1),G>2&&0==(4095&un)){var e,f=8*un,t=F-R;for(e=0;Zn>e;e++)f+=M[e].fc*(5+On[e]);if(f>>=3,parseInt(un/2)>dn&&parseInt(t/2)>f)return!0}return un==h-1||dn==mn},Re=function(r,n){var e,f,t,o,a=0,i=0,l=0,c=0;if(0!=un)do 0==(7&a)&&(c=cn[l++]),f=255&z[a++],0==(1&c)?oe(f,r):(t=tn[f],oe(t+kn+1,r),o=Mn[t],0!=o&&(f-=an[t],ke(f,o)),e=I[i++],t=ae(e),oe(t,n),o=On[t],0!=o&&(e-=ln[t],ke(e,o))),c>>=1;while(un>a);oe(Bn,r)},je=16,ke=function(r,n){D>je-n?(C|=r<<D,fe(C),C=r>>je-D,D+=n-je):(C|=r<<D,D+=n)},Be=function(r,n){var e=0;do e|=1&r,r>>=1,e<<=1;while(--n>0);return e>>1},He=function(){D>8?fe(C):D>0&&ee(C),C=0,D=0},Ze=function(){if(0!=A){var r,n;for(r=$n(),null==w?w=y=r:y=y.next=r,r.len=A-g,n=0;r.len>n;n++)r.ptr[n]=qn[g+n];A=g=0}},Ee=function(r,n){var e,f;wn=r,yn=0,n===void 0&&(n=o),Xn(n);for(var t=Array(1024),a=[];(e=ve(t,0,t.length))>0;){var i=Array(e);for(f=0;e>f;f++)i[f]=String.fromCharCode(t[f]);a[a.length]=i.join("")}return wn=null,a.join("")};r.RawDeflate||(r.RawDeflate={}),r.RawDeflate.deflate=Ee})(this);

/* License: MIT license
 * Original: https://raw.github.com/dankogai/js-deflate/master/test/base64.js */
(function(t){"use strict";if(!t.btoa){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=function(t){var a=[0,2,1][t.length%3],e=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0),c=[r.charAt(e>>>18),r.charAt(63&e>>>12),a>=2?"=":r.charAt(63&e>>>6),a>=1?"=":r.charAt(63&e)];return c.join("")},e=t.btoa||function(t){return t.replace(/[\s\S]{1,3}/g,a)};t.btoa=e}})(this);
